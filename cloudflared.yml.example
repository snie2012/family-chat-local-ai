# Cloudflare Tunnel configuration for Family Chat
# After running `cloudflared tunnel create family-chat`, replace <TUNNEL_ID> with your actual ID.
# This file goes in: ~/.cloudflared/config.yml

tunnel: <TUNNEL_ID>
credentials-file: /Users/<YOUR_USERNAME>/.cloudflared/<TUNNEL_ID>.json

# ---- DEVELOPMENT: two separate ingress rules ----
# ingress:
#   - hostname: api.familychat.yourdomain.com
#     service: http://localhost:3000
#   - hostname: familychat.yourdomain.com
#     service: http://localhost:8081
#   - service: http_status:404

# ---- PRODUCTION: single ingress (Fastify serves built client) ----
ingress:
  - hostname: familychat.yourdomain.com
    service: http://localhost:3000
  - service: http_status:404
